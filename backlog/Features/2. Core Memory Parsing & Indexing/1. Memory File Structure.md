# Memory File Structure Definition âœ…

This feature defines the standard structure for memory files, which consist of a YAML frontmatter block for metadata followed by Markdown content.

**Status:** Completed - Implemented in [MemoryFileParser.ts](../../../src/core/MemoryFileParser.ts)

## Implementation Details

### 1. YAML Frontmatter

Every memory file **must** begin with a YAML frontmatter block, enclosed by triple-dashed lines (`---`).

#### Mandatory Fields

-   `title`: A string representing the title of the memory. This is used for display and identification.
-   `tags`: A YAML list of strings. Tags are used to categorize and retrieve memories. They can be simple or hierarchical (e.g., `backend.database.postgres`).

#### Optional Fields

-   `priority`: A string or number to indicate the importance of the memory (e.g., `high`, `medium`, `low`, or `1-5`). This can be used to influence retrieval order.
-   `created`: The creation date of the memory file, preferably in `YYYY-MM-DD` format.
-   `updated`: The last modification date of the memory file, preferably in `YYYY-MM-DD` format.
-   Other custom metadata fields can be added as needed. They will be stored but may not be used by the core system unless explicitly supported.

### 2. Markdown Content

The body of the file, following the frontmatter, is standard Markdown. This is where the knowledge content is stored. The content can include links to other files, which will be handled by the Link Resolution feature.

### 3. Example Memory File

Here is an example of a well-structured memory file, which should be used as a reference in the project's documentation.

**File Location:** `Memory/backend/database-patterns.md`

```yaml
---
title: "Database Connection Patterns"
tags:
  - "backend.database.postgres"
  - "backend.connection-pool"
priority: high
created: 2025-09-30
updated: 2025-09-30
---

# Database Connection Patterns

This pattern builds on [Connection Pool Setup](./connection-pool.md) and references the 
[Database Configuration Guide](../../docs/db-config.md) for environment setup.

## Implementation

When implementing database connections, always consider the following best practices to ensure robustness and scalability:

-   **Use a Connection Pool**: Avoid opening and closing connections for each query. A connection pool manages a set of open connections for reuse.
-   **Centralized Configuration**: Keep database connection details in a centralized configuration file, not hardcoded in the application.
-   **Graceful Shutdown**: Ensure that all database connections are properly closed when the application shuts down.

See also: [Error Handling Patterns](./error-handling.md) for robust connection management.
```

